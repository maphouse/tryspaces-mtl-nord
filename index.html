<html>
	<head>
		<meta charset="UTF-8">
		<title>Carte Tryspaces</title>
		<link rel="shortcut icon" href="map.ico" type="image/x-icon">
		<!-- jquery ui styles -->
		<link rel="stylesheet" href="jquery_style.css">	
		<!-- link to leaflet styles -->
		<link rel="stylesheet" type="text/css" href="leaflet/leaflet.css" />
		<!-- link to custom styles -->
		<link rel="stylesheet" type="text/css" href="styles.css" />

		<!-- link to leaflet scripts -->
		<script type="text/javascript" src="leaflet/leaflet.js"></script>
		<!-- link to jquery for geojson layer -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<!-- custom js and jquery scripts -->
		<script src="functions.js"></script>
		<!-- load geoJson Data -->
		<script src="data.js"></script>
		<!-- so that IG works properly
		<script async="" defer="defer" src="//platform.instagram.com/en_US/embeds.js"></script>
		-->
		<!-- jquery ui -->
		<script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js" integrity="sha256-0YPKAwZP7Mp3ALMRVB2i8GXeEndvCq3eSl/WsAl1Ryk=" crossorigin="anonymous"></script>
	</head>	
	<body>
		<ul class="navbar">
			<li class="li-nav" id="title"><h1>Perspectives sur Montréal - tryspaces</h1></li>
			<!--
			<li class="li-nav"><a href="#12" onclick='fetchJsonObjectFromUrl(13)'>demo 13</a></li>
			<li class="li-nav"><a href="https://tryspaces.org/montreal/" target="_blank">À propos</a></li>
			-->
			<li class="li-nav">
				<div id="searchBar" class="ui-widget">
					<label for="tags"></label>
					<input id="tags" placeholder="Rechercher un lieu">
				</div>
			</li>
		</ul>
		
		<div id="leftPane" class="scroller grid-container">
		</div>
		
		<div id="mapid">
			<div id='parent-div' class='some-div'>
				<div class='some-div' id='legend'>
				</div>
			</div>
		</div>
		
		<div id="legend"></div>
		
		<footer>
			<p></p>
		</footer>
	
	</body>

	<script>
		
		//function launchMap() {
			//initialize map
			var mymap = L.map('mapid', {
				center: [45.592297, -73.634139],
				zoom: 15,
				//maxBounds: mybounds,
				//maxBoundsViscosity: 0.2,
				layers: [satellite]
			});
			
			// parse json object (var geojsonData, located in data.js) and turn into loadable layer
			var geojsonLayer_1 = L.geoJSON(geojsonData, {style: styleAll, pointToLayer: stylePoints, onEachFeature: displayFeatureProperties});
			
			//add layers to map
			geojsonLayer_1.addTo(mymap);// add json element to map
			var lcontrol = L.control.layers(baseLayers,overlays,{position:'topleft'});
			lcontrol.addTo(mymap);
			//mentalmap_color.addTo(mymap);
			mentalmap_bw.addTo(mymap);
			//lcontrol.addTo(mymap);// add basemap legend
		//}


	</script>
<!-- resources
for getting started
http://leafletjs.com/examples/quick-start/
for access token
https://www.mapbox.com/studio/account/tokens/
for tilesets(map id)
https://www.mapbox.com/studio/tilesets/

alternatively, check out
https://switch2osm.org/using-tiles/getting-started-with-leaflet/

for loading point data from JSON
https://asmaloney.com/2014/01/code/creating-an-interactive-map-with-leaflet-and-openstreetmap/
and from GeoJSON (preferable?)
http://leafletjs.com/examples/geojson/
all about geoJSON
http://www.macwright.org/2015/03/23/geojson-second-bite.html

for loading server-side data (geojson preferable for small projects)
http://gis.stackexchange.com/questions/76319/what-is-the-most-common-way-of-displaying-geodata-from-postgis-on-leaflet

lucas: have map be full screen, slide to half-screen to give way to vignette when placemark is clicked

some js sources (for geojson)
how to link map to external geojson file https://gis.stackexchange.com/questions/113341/how-do-you-load-a-geojson-file-in-leaflet
how to connect marker to innerHTML?
https://stackoverflow.com/questions/26381376/leaflet-oneachfeature-mouseover-update-innerhtml-of-table
another example of getGEOJSON (like maptime boston) http://lyzidiamond.com/posts/external-geojson-and-leaflet-the-other-way
-->
</html>
